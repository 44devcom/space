{
  "connection": {
    "host": "${DEPLOY_HOST:-${HOST_IP}}",
    "port": 22,
    "username": "${DEPLOY_USERNAME:-z}",
    "privateKey": "${SSH_KEY}",
    "remotePath": "${DEPLOY_REMOTE_PATH:-~/Develop/skill44wizard}"
  },
  "upload": {
    "method": "rsync",
    "exclude": [
      ".git/",
      "node_modules/",
      "tests/",
      ".env",
      "__pycache__/",
      "*.pyc",
      ".pytest_cache/"
    ]
  },
  "remoteBuild": [
    "cd ${DEPLOY_REMOTE_PATH:-~/Develop/skill44wizard}",
    "docker compose -f docker/docker-compose.yml down",
    "docker compose -f docker/docker-compose.yml build --no-cache",
    "docker compose -f docker/docker-compose.yml up -d"
  ],
  "serviceRestart": {
    "command": "docker compose -f docker/docker-compose.yml restart",
    "verifyCommand": "docker compose -f docker/docker-compose.yml ps"
  },
  "healthcheck": {
    "url": "${DEPLOY_HEALTHCHECK_URL:-http://${DEPLOY_HOST:-${HOST_IP}}/health}",
    "expectedStatus": 200,
    "timeoutSeconds": 60
  },
  "rollback": {
    "enabled": true,
    "command": "cd ${DEPLOY_REMOTE_PATH:-~/Develop/skill44wizard} && git reset --hard HEAD~1 && docker compose -f docker/docker-compose.yml restart"
  }
}
  